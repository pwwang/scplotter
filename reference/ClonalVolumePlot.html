<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>ClonalVolumePlot — ClonalVolumePlot • scplotter</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ClonalVolumePlot — ClonalVolumePlot"><meta name="description" content="ClonalVolumePlot"><meta property="og:description" content="ClonalVolumePlot"><meta property="og:image" content="https://pwwang.github.io/scplotter/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">scplotter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pwwang/scplotter/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>ClonalVolumePlot</h1>
      <small class="dont-index">Source: <a href="https://github.com/pwwang/scplotter/blob/master/R/clonalstatplot.R" class="external-link"><code>R/clonalstatplot.R</code></a></small>
      <div class="d-none name"><code>ClonalVolumePlot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>ClonalVolumePlot</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  clone_call <span class="op">=</span> <span class="st">"aa"</span>,</span>
<span>  chain <span class="op">=</span> <span class="st">"both"</span>,</span>
<span>  scale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"bar"</span>, <span class="st">"box"</span>, <span class="st">"violin"</span><span class="op">)</span>,</span>
<span>  x <span class="op">=</span> <span class="st">"Sample"</span>,</span>
<span>  group_by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  facet_by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  split_by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  ylab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The product of <a href="https://www.borch.dev/uploads/scRepertoire/reference/combineTCR.html" class="external-link">scRepertoire::combineTCR</a>, <a href="https://www.borch.dev/uploads/scRepertoire/reference/combineTCR.html" class="external-link">scRepertoire::combineTCR</a>, or
<a href="https://www.borch.dev/uploads/scRepertoire/reference/combineExpression.html" class="external-link">scRepertoire::combineExpression</a>.</p></dd>


<dt id="arg-clone-call">clone_call<a class="anchor" aria-label="anchor" href="#arg-clone-call"></a></dt>
<dd><p>How to call the clone - VDJC gene (gene), CDR3 nucleotide (nt),
CDR3 amino acid (aa), VDJC gene + CDR3 nucleotide (strict) or a custom variable
in the data</p></dd>


<dt id="arg-chain">chain<a class="anchor" aria-label="anchor" href="#arg-chain"></a></dt>
<dd><p>indicate if both or a specific chain should be used - e.g. "both",
"TRA", "TRG", "IGH", "IGL"</p></dd>


<dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>Whether to use clone proportion or clone size for the plot.</p></dd>


<dt id="arg-plot-type">plot_type<a class="anchor" aria-label="anchor" href="#arg-plot-type"></a></dt>
<dd><p>The type of plot to use. Default is "bar".
Possible values are "bar", "box", and "violin".
When "box" or "violin" is used, the data will be broken down by the Sample and plotted
for each group.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>The column name in the meta data to use as the x-axis. Default: "Sample"</p></dd>


<dt id="arg-group-by">group_by<a class="anchor" aria-label="anchor" href="#arg-group-by"></a></dt>
<dd><p>The column name in the meta data to group the cells. Default: NULL</p></dd>


<dt id="arg-facet-by">facet_by<a class="anchor" aria-label="anchor" href="#arg-facet-by"></a></dt>
<dd><p>The column name in the meta data to facet the plots. Default: NULL</p></dd>


<dt id="arg-split-by">split_by<a class="anchor" aria-label="anchor" href="#arg-split-by"></a></dt>
<dd><p>The column name in the meta data to split the plots. Default: NULL</p></dd>


<dt id="arg-order">order<a class="anchor" aria-label="anchor" href="#arg-order"></a></dt>
<dd><p>The order of the x-axis items or groups. Default is an empty list.
It should be a list of values. The names are the column names, and the values are the order.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>The y-axis label.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other arguments passed to the specific plot function.</p><ul><li><p>For <code>bar</code> plot, see plotthis::BarPlot.</p></li>
<li><p>For <code>box</code> plot, see plotthis::BoxPlot.</p></li>
<li><p>For <code>violin</code> plot, see plotthis::ViolinPlot.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A ggplot object or a list if <code>combine</code> is FALSE</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">8525</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">contig_list</span>, package <span class="op">=</span> <span class="st">"scRepertoire"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">scRepertoire</span><span class="fu">::</span><span class="fu"><a href="https://www.borch.dev/uploads/scRepertoire/reference/combineTCR.html" class="external-link">combineTCR</a></span><span class="op">(</span><span class="va">contig_list</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">scRepertoire</span><span class="fu">::</span><span class="fu"><a href="https://www.borch.dev/uploads/scRepertoire/reference/addVariable.html" class="external-link">addVariable</a></span><span class="op">(</span><span class="va">data</span>,</span></span>
<span class="r-in"><span>    variable.name <span class="op">=</span> <span class="st">"Type"</span>,</span></span>
<span class="r-in"><span>    variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B"</span>, <span class="st">"L"</span><span class="op">)</span>, <span class="fl">8</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">scRepertoire</span><span class="fu">::</span><span class="fu"><a href="https://www.borch.dev/uploads/scRepertoire/reference/addVariable.html" class="external-link">addVariable</a></span><span class="op">(</span><span class="va">data</span>,</span></span>
<span class="r-in"><span>    variable.name <span class="op">=</span> <span class="st">"Sex"</span>,</span></span>
<span class="r-in"><span>    variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"M"</span>, <span class="st">"F"</span><span class="op">)</span>, <span class="fl">8</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ClonalVolumePlot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="st">"Type"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ClonalVolumePlot-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="st">"Type"</span>, order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"L"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ClonalVolumePlot-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Type"</span>, <span class="st">"Sex"</span><span class="op">)</span>, scale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Multiple columns are provided in 'x'. They will be concatenated into one column.</span>
<span class="r-plt img"><img src="ClonalVolumePlot-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">data</span>, x <span class="op">=</span> <span class="st">"Type"</span>, group_by <span class="op">=</span> <span class="st">"Sex"</span>, position <span class="op">=</span> <span class="st">"stack"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ClonalVolumePlot-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">data</span>,</span></span>
<span class="r-in"><span>    plot_type <span class="op">=</span> <span class="st">"box"</span>, x <span class="op">=</span> <span class="st">"Type"</span>, comparisons <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>    group_by <span class="op">=</span> <span class="st">"Sex"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ClonalVolumePlot-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">data</span>, plot_type <span class="op">=</span> <span class="st">"violin"</span>, x <span class="op">=</span> <span class="st">"Type"</span>, add_box <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ClonalVolumePlot-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># on a Seurat object</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">scRep_example</span>, package <span class="op">=</span> <span class="st">"scRepertoire"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">contig_list</span>, package <span class="op">=</span> <span class="st">"scRepertoire"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">combined</span> <span class="op">&lt;-</span> <span class="fu">scRepertoire</span><span class="fu">::</span><span class="fu"><a href="https://www.borch.dev/uploads/scRepertoire/reference/combineTCR.html" class="external-link">combineTCR</a></span><span class="op">(</span><span class="va">contig_list</span>,</span></span>
<span class="r-in"><span>    samples <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"P17B"</span>, <span class="st">"P17L"</span>, <span class="st">"P18B"</span>, <span class="st">"P18L"</span>, <span class="st">"P19B"</span>, <span class="st">"P19L"</span>, <span class="st">"P20B"</span>, <span class="st">"P20L"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sobj</span> <span class="op">&lt;-</span> <span class="fu">scRepertoire</span><span class="fu">::</span><span class="fu"><a href="https://www.borch.dev/uploads/scRepertoire/reference/combineExpression.html" class="external-link">combineExpression</a></span><span class="op">(</span><span class="va">combined</span>, <span class="va">scRep_example</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">sobj</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The 'Sample' column is not found in the meta data, 'orig.indent' will be used instead.</span>
<span class="r-plt img"><img src="ClonalVolumePlot-8.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">sobj</span>, x <span class="op">=</span> <span class="st">"seurat_clusters"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The 'Sample' column is not found in the meta data, 'orig.indent' will be used instead.</span>
<span class="r-plt img"><img src="ClonalVolumePlot-9.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">sobj</span>, group_by <span class="op">=</span> <span class="st">"seurat_clusters"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The 'Sample' column is not found in the meta data, 'orig.indent' will be used instead.</span>
<span class="r-plt img"><img src="ClonalVolumePlot-10.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">ClonalVolumePlot</span><span class="op">(</span><span class="va">sobj</span>, x <span class="op">=</span> <span class="st">"seurat_clusters"</span>, plot_type <span class="op">=</span> <span class="st">"box"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The 'Sample' column is not found in the meta data, 'orig.indent' will be used instead.</span>
<span class="r-plt img"><img src="ClonalVolumePlot-11.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Panwen Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

